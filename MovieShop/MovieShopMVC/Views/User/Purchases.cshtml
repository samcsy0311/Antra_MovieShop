@model IEnumerable<ApplicationCore.Models.PurchaseMovieResponseModel>;
@{   int counter = 1;}

<div class="container-fluid"> 
     <div class="row">
          @foreach (var movie in Model) 
          {       
               <div class="col-xl-2 col-sm-4 col-lg-3 col-6">
                    <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="@("#movieModal"+@counter)">
                         <partial model="movie" name="_PurchaseMovieCardPartial" />
                    </button>
                    <div class="modal fade" id="@("movieModal"+@counter)" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                         <div class="modal-dialog">
                              <div class="modal-content">
                                   <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">Purchase Details</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                   </div>
                                   <div class="modal-body">
                                        <div class="row">
                                             <div class="col-4">
                                                  <img class="card-img-top" src="@movie.PosterUrl" style="width:95%" alt="@movie.Title"/>
                                             </div>
                                             <div class="col-8">
                                                  <ul class="list-group list-group-flush">
                                                       <li class="list-group-item border-bottom-2">
                                                            Purchased Date <span class="badge badge-pill bg-dark">@movie.Purchases.PurchaseDateTime.Value.ToString("MMM d, yyyy")</span>
                                                       </li>
                                                       <li class="list-group-item border-bottom-2">
                                                            Price <span class="badge badge-pill bg-dark">$@String.Format("{0:n}", Math.Round((decimal)@movie.Price,2))</span>
                                                       </li>
                                                       <li class="list-group-item border-bottom-2">
                                                            Purchase Number <span class="badge badge-pill bg-dark">@movie.Purchases.PurchaseNumber</span>
                                                       </li>
                                                  </ul>
                                             </div>
                                        </div>
                                   </div>
                              </div>
                         </div>
                    </div>
               </div>
               counter++;
          }
     </div>
</div>
